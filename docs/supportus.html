<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">
  <link rel="shortcut icon" href="https://cdn.discordapp.com/emojis/791742603183259648.webp?size=96&quality=lossless" type="image/x-icon">
  <title>Support us by watching some ads!</title>
  <style>
    .space {
      background-color:#ffffff00;
      height: 5px;
      width: 500px;
      margin: 5px;
    }
    .content-block {
      box-shadow: 0px 0px 5px 2px rgba(0, 0, 0, 0.4);
      padding: 5px;
      border-width: 4px;
      /* border-style: double; */
      border-radius: 15px;
      width: 750px;
    }
    img {
      /* box-shadow: 0px 0px 5px 2px rgba(0, 0, 0, 0.4); */
      border-radius: 5px;
    }
    p {
      margin: 3px !important;
    }
  </style>
</head>
<body>
  <div style="width: 100%;" id="content">
    <button style="height: 80px;width: 100%;font-size: 20px;border-radius: 0px;background-color: #ff8d00;font-weight: bold;" class="darkbuttonboxes" id="support-button">Loading..</button>
  </div><br>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5185973148525065"
    crossorigin="anonymous"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-5185973148525065",
    //   enable_page_level_ads: true,
      overlays: { bottom: true },          // banner ‚Äúanchor‚Äù en la parte inferior :contentReference[oaicite:4]{index=4}
      vignette: true                    // si quieres tambi√©n intersticiales
    });
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', initializeEditor);
      function populate(){
        fetch(atob("aHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9yZXBvcy9BbG9uc29BbGlhZ2EvQWxvbnNvQWxpYWdhQVBJL2NvbnRlbnRzL2FwaS9hZHMvYWRzLmpzb24/cmVmPW1haW4="))
          .then(res => res.json())
          .then(content => {
            const decoded = atob(content.content);
            const parsed = JSON.parse(decoded);
            let adsData = parsed;
            for(let adData of adsData) {
              console.log(adData);
              let imageLink = adData.Image;
              let title = adData.Title;
              let link = adData.Link;
              let lines = adData.Lines;
              let priority = adData.Priority;
              let div = document.createElement("div");
              div.classList.add("content-block");
              let img = document.createElement("img");
              img.src = imageLink; 
              img.style.maxWidth = "100%";
              img.style.cursor = "pointer";
              img.onclick = function(event) {
                  window.open(link,"_blank");
              };
              div.appendChild(img);
              let h2 = document.createElement("h2");
              h2.innerHTML = title;
              div.appendChild(h2);
              for (let line of lines) {
                  let p = document.createElement("p");
                  p.innerHTML = line;
                  div.appendChild(p);
              }
              document.body.appendChild(div);
              let space = document.createElement("div");
              space.classList.add("space");
              document.body.appendChild(space);
            }
            setTimeout(()=>{
              let div = document.createElement("div");
              let h2 = document.createElement("h2");
              h2.style.cssText = "font-size: 15px ;text-align: center;";
              h2.innerHTML = `<br>‚ù§Ô∏è Thanks you for visiting this site. Check our tools in <a href="https://alonsoaliaga.com/site" rel="noopener" target="_blank">our official site</a>!<br><br>`
              div.appendChild(h2);
              document.body.appendChild(div);
            },1000);
          });
      }
      function initializeEditor() {
      populate();
        const button = document.getElementById("support-button");
        if(!button) return;
        if(adBlockEnabled) {
            button.innerText = `üö´ Disable AdBlock to unlock special features.`;
        }
        if (!window.opener) {
            button.innerHTML = `‚õî How did you get here? Click here to return to our generator! ‚õî`;
            button.style.cursor = "pointer"
            button.onclick = function(event) {
                window.location = `https://alonsoaliaga.com/font-creator`
            }
            return;
        }
        let time = 2;
        let inter = setInterval(()=>{
            if(time < 0) {
                button.innerText = `üóùÔ∏è Click an ad below to unlock new features!`;
                button.onclick = function(event) {
                    button.onclick = function () {
                      return false;
                    }
                    button.innerText = `üîì You have unlocked nothing!`;
                    party();
                    let times = 10
                    let a = setInterval(()=>{
                        if(times < 0) {
                            clearInterval(a);
                            return;
                        }
                        if(times >= 5) clap();
                        customParty(["üîì","üóùÔ∏è","üëë"])
                        times--;
                    },250)
                    let msgs = [
                        ["7",`üëçüèª Seriously, thanks for your support.`],
                        ["5",`üôÑ I'm being serious.. Nothing else here..`],
                        ["3",`üò• Please, don't look at me like that.`],
                        ["6",`üòä I really appreciate your support!`],
                        ["10", `ü§® Still here? Please leave..`],
                        ["8",`üò† Seriously.. You won't leave right?`],
                        ["4",`‚õî Well, good bye.`],
                        ["2",`close`]
                    ]
                    let finalMsgs = {}
                    let current = 0;
                    for(let [additional,message] of msgs) {
                        current = current + parseInt(additional);
                        finalMsgs[current] = message;
                    }
                    //console.log(finalMsgs)
                    let seconds = 0;
                    let b = setInterval(()=> {
                        if(finalMsgs[seconds]) {
                            let msg = finalMsgs[seconds];
                            if(msg == `‚õî Well, good bye.`) {
                                button.style.backgroundColor = '#b90303'
                                button.style.color = '#ffffff'
                            }
                            if(msg == "close") {
                                clap();
                                clearInterval(b)
                                window.close();
                            }else{
                                button.innerText = finalMsgs[seconds];
                                party();
                            }
                        }
                        seconds++;
                    },1000);
                }
                clearInterval(inter)
                return;
            }
            button.innerText = `‚åõ Please wait ${time} seconds..`;
            time--;
        },1000);
    }
    function party(){
      const a=new AudioContext(),o=a.createOscillator(),g=a.createGain();
      o.type='square';
      o.frequency.setValueAtTime(500,a.currentTime);
      g.gain.setValueAtTime(1,a.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001,a.currentTime+0.3);
      o.connect(g).connect(a.destination);
      o.start();o.stop(a.currentTime+0.3);
    }
    function clap(){
      const a=new AudioContext(),b=a.createBuffer(1,a.sampleRate*0.3,a.sampleRate),
            d=b.getChannelData(0);
      for(let i=0;i<d.length;i++)d[i]=(Math.random()*2-1)*Math.pow(1-i/d.length,2);
      const s=a.createBufferSource();s.buffer=b;
      const f=a.createBiquadFilter();f.type='bandpass';f.frequency.value=1000;
      const g=a.createGain();g.gain.setValueAtTime(1,a.currentTime);
      g.gain.exponentialRampToValueAtTime(0.01,a.currentTime+0.3);
      s.connect(f).connect(g).connect(a.destination);s.start();
    }
    function customParty(emojis = [], time = 0) {
      const defaults = {
        spread: 360,
        ticks: 100,
        gravity: 0,
        decay: 0.94,
        startVelocity: 30,
      };
      function shoot(particleCount = 10) {
        confetti({
          ...defaults,
          particleCount: particleCount,
          scalar: 2,
          shapes: ["emoji"],
          shapeOptions: {
            emoji: {
              value: emojis,
            },
          },
        });
      }
      if(time != 0) {
        const duration = time * 1 * 1000,
          animationEnd = Date.now() + duration;
        const interval = setInterval(function () {
        	const timeLeft = animationEnd - Date.now();
        	if (timeLeft <= 0) {
        		return clearInterval(interval);
        	}
        	const particleCount = 25 * (timeLeft / duration);
          shoot(particleCount);
        },250);
      }
      shoot();
    }
  </script>
  <script src="resources.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
</body>
</html>
